{% extends "base.html" %}
{% load static %}

{% block title %}Home | VF Labs{% endblock %}

{% block head %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

    /* Modal Styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 100; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.7); /* Black w/ opacity */
    backdrop-filter: blur(10px); /* Apply blur effect */
}

.modal-content {
    background-color: #fefefe;
    margin: 10% auto; /* 10% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 50%; /* Could be more or less, depending on screen size */
}

.close {
    color: white;
    background-color: black; /* Black background */
    border: none;
    width: 40px; /* Adjust width as needed */
    height: 40px; /* Adjust height as needed */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px; /* Adjust font size for 'X' */
    font-weight: bold;
    border-radius: 4px; /* Optional: for slightly rounded corners */
    cursor: pointer; /* Pointer cursor on hover */
    position: absolute;
    top: 10px; /* Adjust position as needed */
    right: 10px; /* Adjust position as needed */
    lign-height: 1px;
    padding: 0;
    margin: 0;
}

.close:hover,
.close:focus {
    background-color: darkgray; /* Change background color on hover/focus */
    color: white; /* Ensure 'X' remains white */
    text-decoration: none; /* Remove underline */
}

/* end modal styles */

    .underline2 {
    width: 100%;
    border-bottom: 1px solid white;
    margin: 10px 0; /* Space above and below the underline */
}

    .card-box {
    color: white;
    border: 0.5px solid white;
    padding: 10px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    position: relative;
    }

    .icons-wrapper {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    width: 100%;
    position: relative;
}

    .icon {
    height: 25px;
    width: 25px;
    position: relative;
    display: flex;
    align-items: center;
    transition: margin-left 0.3s ease, opacity 0.3s ease; /* Smooth transition for shifting effect */
}

    /* .icon:hover {
    top: -5px;
    left: -5px;
    width: calc(8% + 10px);
    height: calc(8% + 10px);
    
    } */

   .icon .hover-text {
    display: none;
    position: absolute;
    right: 100%; /* Position to the left of the icon */
    margin-right: 10px; /* Space between the icon and the text */
    background-color: white;
    color: black;
    font-weight: bold;
    padding: 5px;
    border-radius: 5px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 10; /* Ensure text appears above other elements */
}

    .icon:hover .hover-text {
    display: block;
}
    
 .icon:hover {
    margin-left: -100px; /* Shift preceding elements to the left */
}
.icons-wrapper:hover .icon:not(:hover) {
    opacity: 0; /* Hide non-hovered icons only when one is hovered */
}

    .header_font {
    font-family: 'Raleway', sans-serif;
    font-size: 20px;
    font-weight: bold;
    color: white;
    padding: 0.5rem;
    border-radius: none;
    margin-top: -1.5rem; /* Adjust as needed */
    position: relative;
    z-index: 10;
    width: 100%;
    }

    .division {
        margin-top:20px;
        margin-bottom:20px;
        margin-left: 14px;
        margin-right: 25px;
    }

        .slim-block {
           /* background-color: #d1d1ff; */
            padding: 0.5rem;
            margin-top: 8px;
            z-index: 10;
            color: white;
            border: 0.5px solid white;
            width: 350px;
        }

        .slim-block2 {
           /* background-color: #d1d1ff; */
            padding: 0.5rem;
            margin-top: 8px;
            z-index: 10;
            color: white;
            border: 0.5px solid white;
            width: 100%;
        }

        .container {
            display: flex;
            gap: 10.5px;
            flex-wrap: wrap;
        }

        .square {
            width: 350px;
            height: auto; /* Adjusted for better responsiveness */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .square img {
            width: 100%;
            height: auto;
        }

        .square:nth-child(odd) {
           
        }

        @media (max-width: 600px) {
            .container {
                flex-direction: column;
                align-items: center;
            }

            .square {
                width: 100%; /* Full width for mobile */
                margin-bottom: 10px;
            }

            .slim-block {
                margin-top: 10px;
                margin-right: 0.1px;
                margin-bottom: 10px;
                width: 100%;
            }
        }

    .underline {  border-bottom: 1px solid white;
                    margin-bottom: 20px;
                
                width: 100% }
    .text-color { color: white }
    </style>
</head>
{% endblock %}

{% block content %}
<body style="background-color: black;">

    <div class="container mt-4" background="black">
        <div class="row align-items-center">
            <div class="col-md-4">
                <img src="{% static 'images/vflabs_p.png' %}" class="img-thumbnail"  style="padding: 0; margin: 0; border: none; background-color: black;" width="250 px" alt="VF Labs Logo">
            </div>
            <div class="col-md-8">
                <div class="flow">
                    <h1 class="display-4 text-col-1 text-color">Welcome to VF Labs</h1>
                    <p class="lead text-col-1 text-color">VF Labs is a dynamic innovation hub dedicated to fostering the creation and development of cutting-edge technologies across multiple industries.
                    As a result, products on this page are not related and each product may have one or more different stakeholders. This presents anyone an opportunity to buy shares on a product they have 
                    a strong sentiment toward. Processes are super intuitive.</p>
                </div>
            </div>
        </div>
    </div>

    
    <div class="underline"></div>

    <h2 class="header_font division slim-block2">Featured Projects</h2>
    <div class="container">
        <div class="square">
            <img src="{% static 'images/nimix.jpg' %}" class="card-img-top" alt="Nimix">
                <h5 class="slim-block">Nimix</h5>
                    <div class="card-box">
                        <p>Nimix is your versatile scientific calculator app designed for exams and beyond. Featuring advanced functionalities and a secure mode to prevent unauthorized exits during exams, Nimix ensures reliability and integrity when you need it most. Empowering students with precision and ease of use, Nimix is your go-to tool for academic success.</p>
                           
                    </div>
                               <div class="underline2"></div>
                                <div class="icons-wrapper">
            
                                    <div class="icon">
                                        <img src="{% static 'images/share.png' %}" alt="Share" onclick="copyToClipboard('{{ request.build_absolute_uri }}')">
                                            <span class="hover-text">Share this!</span>
                                    </div>
                                        <div class="icon">
                                             <img src="{% static 'images/like.png' %}" alt="Like" onclick="likeProject({{ project.id }})">
                                                <span class="hover-text">Like this!</span>
                                        </div>
                                            <div class="icon">
                                                <a href="#">
                                                    <img src="{% static 'images/invest.png' %}" alt="Invest">
                                                </a>
                                                    <span class="hover-text">Invest in this product and gain shares. Click to complete form.</span>
                                            </div>
                     <!-- Add more icons as needed -->
                                </div>

                <script>
        function copyToClipboard(url) {
        navigator.clipboard.writeText(url).then(function() {
        alert('Link copied to clipboard');
        }, function(err) {
        alert('Failed to copy: ', err);
        });
        }

    function likeProject(projectId) {
            fetch(`/like/${projectId}/`, {
            method: 'POST',
            headers: {
            'X-CSRFToken': '{{ csrf_token }}',
            },
            })
            .then(response => response.json())
            .then(data => {
            alert(`Likes: ${data.likes}`);
            });
            }
            </script> 
        </div>


        <div class="square">
        
            <img src="{% static 'images/slidespeak.jpg' %}" class="card-img-top" alt="SlideSpeak">
            <h5 class="slim-block">Slidespeak</h5>
            <div class="card-box">
                <p>SlideSpeak revolutionizes presentations with effortless slide control through speech. Seamlessly navigate slideshows using intuitive voice commands, ensuring a smooth and engaging presentation experience. Ideal for professionals and educators, SlideSpeak enhances efficiency and interactivity, making every presentation impactful and memorable.</p>
            </div>
            <div class="underline2"></div>

        <div class="icons-wrapper">
            
                                    <div class="icon">
                                        <img src="{% static 'images/share.png' %}" alt="Share" onclick="copyToClipboard('{{ request.build_absolute_uri }}')">
                                            <span class="hover-text">Share this!</span>
                                    </div>
                                        <div class="icon">
                                             <img src="{% static 'images/like.png' %}" alt="Like" onclick="likeProject({{ project.id }})">
                                                <span class="hover-text">Like this!</span>
                                        </div>
                                            <div class="icon">
                                                <a href="#">
                                                    <img src="{% static 'images/invest.png' %}" alt="Invest">
                                                </a>
                                                    <span class="hover-text">Invest in this product and gain shares. Click to complete form.</span>
                                            </div>
                     <!-- Add more icons as needed -->
                                </div>
                           <script>
        function copyToClipboard(url) {
        navigator.clipboard.writeText(url).then(function() {
        alert('Link copied to clipboard');
        }, function(err) {
        alert('Failed to copy: ', err);
        });
        }

    function likeProject(projectId) {
            fetch(`/like/${projectId}/`, {
            method: 'POST',
            headers: {
            'X-CSRFToken': '{{ csrf_token }}',
            },
            })
            .then(response => response.json())
            .then(data => {
            alert(`Likes: ${data.likes}`);
            });
            }
            </script>
        </div>

        <div class="square">
        
            <img src="{% static 'images/rktship.jpg' %}" class="card-img-top" alt="NSFP">
            <h5 class="slim-block">Rocketship CRM</h5>
            <div class="card-box">
                <p>Rocketship CRM is the ultimate tool for NPOs. It has been designed with role-based access for admins, fundraisers, and donors. Users can Create and manage fundraising campaigns, track donations and donor activities, gain valuable insights and analytics, and manage user roles and permissions, streamlining the management process.</p>
            </div>

            <div class="underline2"></div>
        <div class="icons-wrapper">
            
                                    <div class="icon">
                                        <img src="{% static 'images/share.png' %}" alt="Share" onclick="copyToClipboard('{{ request.build_absolute_uri }}')">
                                            <span class="hover-text">Share this!</span>
                                    </div>
                                        <div class="icon">
                                             <img src="{% static 'images/like.png' %}" alt="Like" onclick="likeProject({{ project.id }})">
                                                <span class="hover-text">Like this!</span>
                                        </div>
                                            <div class="icon">
                                                <a href="#">
                                                    <img src="{% static 'images/invest.png' %}" alt="Invest">
                                                </a>
                                                    <span class="hover-text">Invest in this product and gain shares. Click to complete form.</span>
                                            </div>
                     <!-- Add more icons as needed -->
                                </div>
        </div>
               <script>
        function copyToClipboard(url) {
        navigator.clipboard.writeText(url).then(function() {
        alert('Link copied to clipboard');
        }, function(err) {
        alert('Failed to copy: ', err);
        });
        }

    function likeProject(projectId) {
            fetch(`/like/${projectId}/`, {
            method: 'POST',
            headers: {
            'X-CSRFToken': '{{ csrf_token }}',
            },
            })
            .then(response => response.json())
            .then(data => {
            alert(`Likes: ${data.likes}`);
            });
            }
            </script>
    </div>

    <div class="underline" style="padding-top:40px;"></div>

      <h2 class="text-color" style="padding-bottom:20px;">Our Services</h2>
    <div class="row">
        {% for service in services %}
            <div class="col-md-4 mb-4">
                <div class="card-box">
                    <div class="card-body">
                        <h5 class="card-title">{{ service.name }}</h5>
                        <p class="card-text">{{ service.description }}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

<div class="underline" style="padding-top:40px;"></div>

<div class="text-color">
    <h2>Contact Us</h2>
    <p><strong>Email:</strong> {{ contact_details.email }}</p>
    <p><strong>Phone:</strong> {{ contact_details.phone }}</p>
</div>

<div class="underline" style="padding-top:40px;"></div>

<div id="investModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Invest in this product</h2>
        <div class="underline" style="padding-top:20px; border-color:black; width:45%;"></div>
        <p>Once you've completed the form, one of our sales consultants will <br>
        make contact to go over the finer details and prepare the deal.</br> </p>
        <div class="underline" style="padding-top:20px; border-color:black; width:45%;"></div>
        <div id="form-content">
            <form action="{% url 'invest_sign_up' %}" method="post">
                {% csrf_token %}
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required><br><br>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required><br><br>

                <!-- Add other fields as needed -->

                <input type="submit" value="Invest">
            </form>
        </div>
        <div id="confirmation-message" style="display:none;">
            <p>Thank you for your investment! Your submission has been received.</p>
        </div>
    </div>
</div>


<script>
    // Get the modal
    var modal = document.getElementById("investModal");

    // Get the buttons that open the modal
    var investButtons = document.querySelectorAll('.icon a');

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the invest button, open the modal
    investButtons.forEach(function(button) {
        button.onclick = function(event) {
            event.preventDefault(); // Prevent default link behavior
            modal.style.display = "block";
        }
    });

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Handle form submission with AJAX
    document.querySelector('form').onsubmit = function(event) {
        event.preventDefault(); // Prevent form from submitting normally
        
        var formData = new FormData(this);
        
        fetch("{% url 'invest_sign_up' %}", {
            method: 'POST',
            body: formData,
            headers: {
                'X-CSRFToken': '{{ csrf_token }}'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Display confirmation message in the modal
                this.innerHTML = "<p>Thank you for your investment! We will be in touch.</p>";
            } else {
                // Handle any errors
                alert("Something went wrong. Please try again.");
            }
        });
    };
</script>



</body>
{% endblock %}

